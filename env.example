# ============================================
# OpenStock 环境变量配置示例
# 适用于 DS925+ Container Manager
# ============================================

# ============================================
# 核心配置
# ============================================
NODE_ENV=production

# ============================================
# 数据库配置
# ============================================
# 如果使用docker-compose中的MongoDB服务，使用以下配置：
MONGODB_URI=mongodb://root:123456@mongodb:27017/openstock?authSource=admin

# 如果使用外部MongoDB（如MongoDB Atlas），使用以下配置：
# MONGODB_URI=mongodb+srv://<user>:<pass>@<cluster>/<db>?retryWrites=true&w=majority

# MongoDB root密码（用于docker-compose中的mongodb服务）
MONGO_ROOT_PASSWORD=123456

# ============================================
# Better Auth 配置
# ============================================
# 生成一个随机密钥，例如：openssl rand -base64 32
BETTER_AUTH_SECRET=your_better_auth_secret_key_here
# 在Container Manager中，使用NAS的IP地址或域名
BETTER_AUTH_URL=http://your-nas-ip:3000

# ============================================
# Finnhub API 配置
# ============================================
# 从 https://finnhub.io/ 获取API密钥
NEXT_PUBLIC_FINNHUB_API_KEY=your_finnhub_api_key_here
FINNHUB_BASE_URL=https://finnhub.io/api/v1

# ============================================
# Inngest 配置（可选）
# ============================================
# 如果使用Inngest进行后台任务和AI功能
GEMINI_API_KEY=your_gemini_api_key_here
INNGEST_SIGNING_KEY=your_inngest_signing_key_here

# ============================================
# 邮件配置（可选）
# ============================================
# 使用Gmail发送邮件（需要应用专用密码）
NODEMAILER_EMAIL=youraddress@gmail.com
NODEMAILER_PASSWORD=your_gmail_app_password

# ============================================
# 新闻管道配置（可选）
# ============================================
NEWS_INGEST_API_KEY=demo_key
NEWS_PUMP_ENABLED=true
NEXT_PUBLIC_NEWS_POLL_INTERVAL_MS=10000
NEWS_ROLLING_WINDOW_MINUTES=120
NEWS_DECAY_LAMBDA=0.02
NEWS_DECAY_WINDOW_HOURS=2
NEWS_DECAY_K=0.01
NEWS_TTL_MS=7200000
NEXTJS_API_URL=http://your-nas-ip:3000/api/ashare/external/news
CHECK_INTERVAL=60
